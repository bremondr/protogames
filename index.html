<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protogames</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- =========================================================
         PRIMARY APP HEADER
         ---------------------------------------------------------
         Displays the product name and lightweight tagline so the
         user always knows which prototype tool they are using.
         ========================================================= -->
    <header class="app-header">
        <div class="brand">
            <span class="brand-mark" aria-hidden="true">PG</span>
            <span class="brand-name">Protogames</span>
        </div>
        <p class="header-tagline">Tabletop Board Designer</p>
    </header>

    <!-- =========================================================
         APP SHELL
         ---------------------------------------------------------
         Two-column layout where the sidebar contains tools and the
         main region houses the canvas workspace.
         ========================================================= -->
    <div class="app-shell">
        <!-- ================================================
             SIDEBAR TOOLBAR
             ------------------------------------------------
             Contains every control needed before interacting
             with the board: generation settings, palette,
             action buttons, and file utilities.
             ================================================ -->
        <aside class="sidebar" aria-label="Protogames toolbox">
            <!-- --------------------------------------------
                 BOARD SETUP PANEL
                 Users configure the board grid, outline, and
                 overall dimensions before generating tiles.
                 -------------------------------------------- -->
            <section class="panel" aria-labelledby="board-setup-title">
                <h2 id="board-setup-title">Board Setup</h2>
                <form class="panel-form">
                    <label class="field">
                        <span class="field-label">Board Shape</span>
                        <select name="boardOutline" aria-label="Select board shape">
                            <option value="hexagon" selected>Hexagon</option>
                            <option value="square">Square</option>
                            <option value="rectangle">Rectangle</option>
                            <option value="triangle">Triangle</option>
                            <option value="circle">Circle</option>
                        </select>
                    </label>                    
                    <label class="field">
                        <span class="field-label">Tile shape</span>
                        <select name="gridType" aria-label="Select grid type">
                            <option value="hexagon" selected>Hexagon</option>
                            <option value="square">Square</option>
                            <option value="triangle">Triangle</option>
                        </select>
                    </label>
                    <label class="field" id="orientationField">
                        <span class="field-label">Grid Orientation</span>
                        <select name="gridOrientation" aria-label="Select grid orientation">
                            <option value="pointy-top" selected>Pointy-top</option>
                            <option value="flat-top">Flat-top</option>
                            <!-- <option value="orthogonal">Orthogonal</option>
                            <option value="diagonal">Diagonal</option> -->
                        </select>
                    </label>
                    <div class="field hidden" id="radiusField">
                        <span class="field-label" id="radiusLabel">Radius (tiles from center to edge)</span>
                        <input type="number" name="boardRadius" min="1" step="1" value="5" aria-label="Board radius">
                        <p class="field-hint">Number of tiles from center to edge</p>
                    </div>
                    <div class="field hidden" id="sizeField">
                        <span class="field-label" id="sizeLabel">Size (tiles per side)</span>
                        <input type="number" name="boardSize" min="1" step="1" value="10" aria-label="Board size">
                    </div>
                    <div class="field hidden" id="triangleOrientationField">
                        <span class="field-label">Triangle Orientation</span>
                        <select name="triangleOrientation" aria-label="Select triangle orientation">
                            <option value="point-up" selected>Point Up</option>
                            <option value="point-down">Point Down</option>
                        </select>
                    </div>
                    <div class="field dimension-fields" id="rectangularFields">
                        <label>
                            <span class="field-label" id="widthLabel">Width (columns)</span>
                            <input type="number" name="boardWidth" min="1" step="1" value="20" aria-label="Board width">
                        </label>
                        <label>
                            <span class="field-label" id="heightLabel">Height (rows)</span>
                            <input type="number" name="boardHeight" min="1" step="1" value="20" aria-label="Board height">
                        </label>
                    </div>
                    <button type="button" class="primary-button" data-action="generate-board">Generate Board</button>
                </form>
            </section>

            <!-- --------------------------------------------
                 COLOR PALETTE
                 Gives players a visual palette for terrain
                 colors. JavaScript toggles selection states.
                 -------------------------------------------- -->
            <section class="panel" aria-labelledby="color-palette-title">
                <h2 id="color-palette-title">Color Palette</h2>
                <div class="field">
                    <!-- <span class="field-label">Theme</span> -->
                    <select id="paletteSelect" aria-label="Select color palette"></select>
                </div>
                <div class="palette-grid" role="list" aria-live="polite"></div>
            </section>

            <!-- --------------------------------------------
                 ACTION BUTTONS
                 Undo/redo and clear board shortcuts appear
                 here. Icons reinforce what each button does.
                 -------------------------------------------- -->
            <section class="panel" aria-labelledby="actions-title">
                <h2 id="actions-title">Actions</h2>
                <div class="action-buttons">
                    <button type="button" class="icon-button" data-action="undo" aria-label="Undo action">
                        <span class="icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" focusable="false">
                                <path d="M9 7H4v5" />
                                <path d="M4 12a8 8 0 1 0 2.34-5.66" />
                            </svg>
                        </span>
                        <span>Undo</span>
                    </button>
                    <button type="button" class="icon-button" data-action="redo" aria-label="Redo action">
                        <span class="icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" focusable="false">
                                <path d="M15 7h5v5" />
                                <path d="M20 12a8 8 0 1 1-2.34-5.66" />
                            </svg>
                        </span>
                        <span>Redo</span>
                    </button>
                    <button type="button" class="icon-button destructive" data-action="clear-board" aria-label="Clear board">
                        <span class="icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" focusable="false">
                                <line x1="6" y1="6" x2="18" y2="18" />
                                <line x1="18" y1="6" x2="6" y2="18" />
                            </svg>
                        </span>
                        <span>Clear</span>
                    </button>
                </div>
            </section>

            <!-- --------------------------------------------
                 FILE MANAGEMENT
                 Allows saving/loading project JSON files and
                 placeholders for exporting to other formats.
                 -------------------------------------------- -->
            <section class="panel" aria-labelledby="files-title">
                <h2 id="files-title">File Management</h2>
                <div class="stacked-buttons">
                    <button type="button" id="saveProjectBtn" class="secondary-button">Save Project</button>
                    <button type="button" id="loadProjectBtn" class="secondary-button file-button">Load Project</button>
                    <input type="file" id="loadProject" class="visually-hidden" aria-label="Load project file" accept=".json">
                    <div class="field">
                        <span class="field-label">Export</span>
                        <div class="export-buttons">
                            <button type="button" id="exportPNGBtn" class="secondary-button">PNG</button>
                            <button type="button" id="exportPDFBtn" class="secondary-button">PDF</button>
                            <button type="button" id="exportSVGBtn" class="secondary-button">SVG</button>
                        </div>
                    </div>
                </div>
            </section>
        </aside>

        <!-- ================================================
             WORKSPACE / CANVAS AREA
             ------------------------------------------------
             The large editor surface where polygons will be
             rendered. The placeholder text is replaced with a
             short hint once a grid exists.
             ================================================ -->
        <main class="workspace" aria-label="Game board workspace">
            <div class="canvas-wrapper">
                <canvas id="gameCanvas" aria-label="Board editor canvas"></canvas>
            </div>
        </main>
    </div>

    <!-- Notification banner for lightweight status updates -->
    <div id="notificationBar" class="notification" role="status" aria-live="polite"></div>
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/state.js"></script>
    <script src="js/geometry/helpers.js"></script>
    <script src="js/geometry/hex.js"></script>
    <script src="js/geometry/triangle.js"></script>
    <script src="js/geometry/square.js"></script>
    <script src="js/geometry.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/interactions.js"></script>
    <script src="js/fileManager.js"></script>
    <script src="js/exporter.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
